Были разработаны две программы - server.c и client.c, которые взаимодействуют друг с другом через разделяемую память.

Клиент генерирует случайные числа в диапазоне от 1 до 10 и записывает их в разделяемую память. В то же время сервер считывает числа из памяти и выводит их на консоль, но только если они не равны нулю. Если клиент еще не сгенерировал числа (т.е. они равны нулю), то ничего не выводится.

После завершения работы программ разделяемая память отвязывается от них, но остается существовать в ядерном адресном пространстве. Чтобы удалить ее оттуда, я использую следующий подход: сначала я использую команду ipcs для определения идентификатора программы, которую нужно удалить. Это несложно, так как нет других программ, которым требуется всего 4 байта памяти с кодификатором 0. Затем я использую команду ipcrm для удаления этой разделяемой памяти.

Как видно, после запуска программ у нас появляется новый сегмент разделяемой памяти, который мы удаляем после работы с программами.